{"version":3,"file":"polyfill.js","sourceRoot":"","sources":["polyfill.ts"],"names":[],"mappings":"AAAA,mCAAmC;;AAEnC;IACE,mBAAmB,EAAE,CAAC;AACxB,CAAC;AAFD,4BAEC;AAED;IACE,eAAe,CAAC,SAAS,CAAC,CAAC;IAC3B,eAAe,CAAC,UAAU,CAAC,CAAC;IAC5B,eAAe,CAAC,iBAAiB,CAAC,CAAC;IACnC,eAAe,CAAC,UAAU,CAAC,CAAC;IAC5B,eAAe,CAAC,WAAW,CAAC,CAAC;IAC7B,eAAe,CAAC,UAAU,CAAC,CAAC;IAC5B,eAAe,CAAC,WAAW,CAAC,CAAC;IAC7B,eAAe,CAAC,YAAY,CAAC,CAAC;IAC9B,eAAe,CAAC,YAAY,CAAC,CAAC;AAChC,CAAC;AAED,yBAAyB,IAAS;IAChC,oGAAoG;IACpG,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;QACzB,IAAI,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,KAAK;YAEnC,aAAa;YACb,EAAE,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC;gBACjB,MAAM,IAAI,SAAS,CAAC,6BAA6B,CAAC,CAAC;YACrD,CAAC;YAED,IAAI,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;YAErB,aAAa;YACb,IAAI,GAAG,GAAG,CAAC,CAAC,MAAM,KAAK,CAAC,CAAC;YAEzB,aAAa;YACb,IAAI,KAAK,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;YACzB,IAAI,aAAa,GAAG,KAAK,IAAI,CAAC,CAAC;YAE/B,UAAU;YACV,IAAI,CAAC,GAAG,aAAa,GAAG,CAAC;gBACvB,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,aAAa,EAAE,CAAC,CAAC;gBAChC,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC;YAE/B,cAAc;YACd,IAAI,GAAG,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;YACvB,IAAI,WAAW,GAAG,GAAG,KAAK,SAAS;gBACjC,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC;YAEjB,WAAW;YACX,IAAI,KAAK,GAAG,WAAW,GAAG,CAAC;gBACzB,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,WAAW,EAAE,CAAC,CAAC;gBAC9B,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC;YAE7B,WAAW;YACX,OAAO,CAAC,GAAG,KAAK,EAAE,CAAC;gBACjB,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;gBACb,CAAC,EAAE,CAAC;YACN,CAAC;YAED,WAAW;YACX,MAAM,CAAC,CAAC,CAAC;QACX,CAAC,CAAC;IACJ,CAAC;AACH,CAAC","sourcesContent":["// does polyfill for older browsers\n\nexport function polyfill(): void {\n  typedarray_fill_all();\n}\n\nfunction typedarray_fill_all(): void {\n  typedarray_fill(Int8Array);\n  typedarray_fill(Uint8Array);\n  typedarray_fill(Uint8ClampedArray);\n  typedarray_fill(Int16Array);\n  typedarray_fill(Uint16Array);\n  typedarray_fill(Int32Array);\n  typedarray_fill(Uint32Array);\n  typedarray_fill(Float32Array);\n  typedarray_fill(Float64Array);\n}\n\nfunction typedarray_fill(type: any): void {\n  // https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Array/fill#Polyfill\n  if (!type.prototype.fill) {\n    type.prototype.fill = function (value) {\n\n      // Steps 1-2.\n      if (this == null) {\n        throw new TypeError('this is null or not defined');\n      }\n\n      var O = Object(this);\n\n      // Steps 3-5.\n      var len = O.length >>> 0;\n\n      // Steps 6-7.\n      var start = arguments[1];\n      var relativeStart = start >> 0;\n\n      // Step 8.\n      var k = relativeStart < 0 ?\n        Math.max(len + relativeStart, 0) :\n        Math.min(relativeStart, len);\n\n      // Steps 9-10.\n      var end = arguments[2];\n      var relativeEnd = end === undefined ?\n        len : end >> 0;\n\n      // Step 11.\n      var final = relativeEnd < 0 ?\n        Math.max(len + relativeEnd, 0) :\n        Math.min(relativeEnd, len);\n\n      // Step 12.\n      while (k < final) {\n        O[k] = value;\n        k++;\n      }\n\n      // Step 13.\n      return O;\n    };\n  }\n}\n"]}